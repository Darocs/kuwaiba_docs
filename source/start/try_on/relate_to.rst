Relate to...
+++++++++++++

Данный раздел посвящен привязке линейных или точечных объектов к пулам.

С чем можно связать объекты kuwaiba?
-------------------------------------

1. Contract
2. Contact 
3. Project
4. Service
5. Proxy

Для чего это необходимо?
-------------------------

Допустим, у Вас один проект по сдаче в аренду телекоммуникационного шкафа 
операторам связи. В этом случае привязка оборудования ко всем перечисленным 5 
пунктам необязательна: проект один, заказчик один сервис один, заключенный 
контракт тоже один.

А теперь представим себе, что таких проектов несколько, каждый из которых 
представляет собой строительство каналов связи длиной в 1000 км для сдачи в 
аренду оптических волокон + проект разбит на пусковые комплексы. Заказчиком 
является гостударственная организация с десятком филиалов по всей стране.
В данном случае без помощи структуризации процессов в kuwaiba не обойтись.


1. Привязка к **Contract**
----------------------------

Для начала на главной странице в разделе **Services** находим ``Contract Manager``.

.. image:: /res/try_on/contract_manager.PNG

Слева, после строки поиска, кликает кнопку ``+`` и создаем новый контракт. 

.. hint:: Когда мы говорим о контрактах, важно отметить, что речь идет не только
    о Договоре между подрядной организацией и Заказчиком о выполнении работ, но и
    прочие Договора: аренда склада для хранения оборудования, Договор поставки 
    оптического кабеля, Договор с субподрядчиком о выполнении строительно-
    монтажных работ и др.

При создании нового контракта необходимо заполнить поля. В первой строке 
необходимо выбрать **pool**, он же **вид контракта**. 

.. image:: /res/try_on/new_contract_pool.png

**Type contract** либо проставляется автоматически, либо программа предлагает
заполнить эту строку, выбрав необходимый тип контракта из выпадающего списка по
смыслу. 

Далее предлагается заполнить имя и описание. 

Контракт создан!

Далее возвращаемся к нужному оборудованию или линейному объекту, который 
необходимо привязать, выделяем его и раскрываем в **свойствах** поле ``Advanced
Actions``. Данное поле раскрывает действия, которые можно совершить с объектом.
Нажимаем ``Relate to Contract`` и в открывшемся поле выбираем нужный нам контракт.

**Объект привязан к контракту!**

При необходимости отвязки объекта от контракта нажимаем ``Release from`` и снова
выбираем контракт.

**Объект отвязан от контракта!**

.. attention:: Один объект можно привязать к нескольким контрактам!


2. Привязка к **Contact**
---------------------------

Не является обязательным пунктом, однако наличие данной функции в целом позволяет
в случае необходимости назначить определенному пулу - объекту/оборудованию/каналу 
связи - ответственное лицо, Заканчика или любой другой полезный контакт.

На главной странице в разделе **Other** находим ``Contact Manager``.

.. image:: /res/try_on/new_contact_pool.png

В открывшемся окне контактов нажимаем ``+`` d правом верхнем углу.

Далее пишем имя контакта, выбираем тип: **CoomercialContact (Коммерческий 
контакт)**, **TechnicalContract (Технический контакт)** или **BillingContact 
(Контакт, выставляющий счет)**. Также можно расширить данный список, добавив свои
варианты. Последним пунктом выбираем компанию из списка.

Далее возвращаемся к нужному оборудованию или линейному объекту, который 
необходимо привязать, выделяем его и раскрываем в **свойствах** поле ``Advanced
Actions``. Нажимаем ``Relate to Contact`` и в открывшемся поле выбираем нужный 
нам контакт.

**Объект привязан к контакту!**

При необходимости отвязки объекта от контакта нажимаем ``Release from`` и снова
выбираем контакт.

**Объект отвязан от контакта!**

.. attention:: Один объект можно привязать к нескольким контактам!


3. Привязка к **Project**
--------------------------

Один из самых важных пунктов, если речь идет о большом объеме работ с разбивкой 
проекта на разделы, задачи, участки или пусковые комплексы. 
Самые основные пулы - ТШК (стойки), крупное оборудование, линеные объекты
(кабель, каналы) - рекомендуется привязывать к проекту, потому как рабочий 
процесс часто сопровождается различного рода заменами оборудования, перемещениями
со склада на объект, между объектами и т.д. Программа же сохраняет данные о 
проектах, к которым относится данное оборудование.

Когда рабочий проект (один или несколько) готов, следует начать работу в kuwaiba
с занесения данных о нем в программу.

На главной странице в разделе **Planning** находим ``Project Manager``.

.. image:: /res/try_on/project_manager.PNG

Прежде чем добавить новый проект, обратим внимание на **значок шестеренки**.
Это кнопка ``Manage Pools``слева, рядом с полем **All Projects**. В данном 
случае **pools** - это общий класс, объединящий проекты. При создании пула можно
руководствоваться, например, территориальным назначением проектов, представив 
пулы в виде округов, в которых проект будет запускаться.
Тип проекта в большинстве случает *NetworkProject*, т.к. мы работаем с сетями.

После того, как все pools для всех нужных проектов созданы, нажимаем значок ``+``
в том же ``Project Manager``. Для создания нового проекта понадобится выбрать уже
созданный ранее подходящий **pool** (тип проставится автоматически) и **name**.

Проект создан!

.. note:: Старайтесь писать имя максимально сокращенно, например, "Первый пусковой
    комплекс "Воронеж" можно обозанчить, как "ПК1 Воронеж". Однако в свойствах
    проекта можно заполнить необходимые поля более подробно - дату начала, статус,
    код, полное название и короткое название.

Далее возвращаемся к нужному оборудованию или линейному объекту, который 
необходимо привязать, выделяем его и раскрываем в **свойствах** поле ``Advanced
Actions``. Нажимаем ``Relate to Project`` и в открывшемся поле выбираем нужный 
нам проект.

**Объект привязан к проекту!**

При необходимости отвязки объекта от проекта нажимаем ``Release from`` и снова
выбираем проект.

**Объект отвязан от проекта!**


4. Привязка к **Service**
---------------------------

Сервисами в kuwaiba называются пулы, привязанные к конкретному Заказчику 
(**Customers**). 
Пример: мы создали проект **Воронеж**, но в аренду нашу стойку на ПС 500кВ 
Воронежская взяли 3 федеральных сотовых оператора - МТС, Мегафон и Теле2.
Под каждого из Заказчиков мы создадим 3 разных сервиса - Воронеж МТС, 
Воронеж Мегафон и Воронеж Теле2.

Как мы это делаем?

На главной странице в разделе **Services** находим ``Service Manager``.

.. image:: /res/try_on/service_manager.PNG

В открывшемся окне **services** мы видим 3 условные колонки: ``Customer Pools``,
``Service Pools`` и свойства (информация).

Первая колонка (Customer Pools)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В Manage Customer Pools (``значок шестеренки``) добавляем пул, объединяющий МТС,
Мегафон и Теле2 - **Федеральные Операторы**.

Далее наживаем ``+`` и добавляем каждого из трех Заказчиков соответственно. Тип
Заказчика в данном случае - *TelecommunicationsOperator*.

Вторая колонка (Service Pools)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Выделяем первого Закачика в колонке слева (напрмер, **МТС**).
В Manage Servise Pools (``значок шестеренки``) добавляем пул, соответствующий
данному Заказчику - **Воронеж МТС**.

Далее выбираем его в строке и наживаем ``+``, теперь для данного пула можно 
внести сервис. Именем сервиса может послужить буквенно-цифровой код, прописанный 
в контракте на титульном листе.

То же самое проделываем с остальными двумя Заказчиками.

Третья колонка (Свойства)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В графе **Object Properties** заносим информацию о сервисе: имя, статус, 
пропускная способность и т.д. А также можно совершить какие-либо действия с
сервисом.

Далее возвращаемся к нужному оборудованию или линейному объекту, который 
необходимо привязать, выделяем его и раскрываем в **свойствах** поле ``Advanced
Actions``. Нажимаем ``Relate to Service`` и в открывшемся поле выбираем нужный 
нам сервис.

**Объект привязан к сервису!**

При необходимости отвязки объекта от сервиса нажимаем ``Release from`` и снова
выбираем сервис.

**Объект отвязан от сервиса!**